
<!doctype html>
<html>
	
	<head>
		<meta charset="utf-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		
		<title>Ccall : 1-Click Conference Calls</title>
		
		<link rel="stylesheet" type="text/css" href="css/style.css"/>	
    <script type="text/javascript" src="//use.typekit.net/rrf5isi.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
	
		<!--[if lt IE 9]>
			<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		
		<!--[if lt IE 9]>
		<script>
		document.createElement('video');
		</script>
		<![endif]-->


 

	</head>
	
	<body lang="en">

    <div id="container">
		
		  <div id="main">
			
				<div id="cc-logo" class="logo" alt="ccall">c</div>
        <h1>One-click<br>conference call.</h1>
        <p>Enter the phone # and the conference code.<br>
          Weâ€™ll generate a link to share with your invite.
        </p>	
        
			

    	<form id="calendarForm">
        <input type="text" id="confNumber" placeholder="Phone #">
        <input type="text" id="confID" placeholder="Conf Code #">	
        <button type="button"  onclick="genLink()">GENERATE LINK</button>
		</form>

		  </div>
					<br />
					<div class="resultDiv"> </div>
				
		</div><!-- main -->
		
		<div id="footer">
			<div class="logo" id="experiment-logo"><a href="http://experiment.bz">e</a></div>
		
		</div><!-- footer -->

	</div><!-- container -->

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/libs/jquery-1.9.1.min.js"><\/script>')</script>
    <script src="js/plugins.js"></script>
    <script src="js/script.js"></script>
		
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	
	  ga('create', 'UA-45973655-2', 'experiment.bz');
	  ga('send', 'pageview');
	</script>
	
	
	 <script type="text/javascript">
	
	function genLink()
	{
		// check for missing #
		var cd = calendarForm.confID.value;
		if (cd.charAt(cd.length-1) != '#')
		{
			var r=confirm("I don't see a # at the end of your conference id. Continue?");
			if (r==true)
			{
				writeContent();
				$('div.resultDiv').selectText();
			}
			
		}
		else
		{
			writeContent();
			$('div.resultDiv').selectText();
		}
				
	}
	function writeContent()
	{
	/*
		var meetingDescriptionIOS = '<a href="tel:' + calendarForm.confNumber.value
			+ ',,,' + calendarForm.confID.value + '">Dial your conference number on iOS!</a>';
		var meetingDescriptionAndroid = '<a href="tel:' + calendarForm.confNumber.value
			+ ' ppp ' + calendarForm.confID.value + '">Dial your conference number on Android!</a>';
		var meetingDescriptionOther = 
			'------- Manual Conference Info ------- <br />' +
			'Conference Number: ' + calendarForm.confNumber.value + '<br />' +
			'Conference Id: ' + calendarForm.confID.value + '<br />' +
			'-------------------------------------- <br />';
			
			var rtCp = 
			'<p>' + '<p>' + 
			meetingDescriptionIOS + '<p>' + 
			meetingDescriptionAndroid + '<p>' + 
			meetingDescriptionOther;
			
			console.log(rtCp);
			
			$('div.resultDiv').html(rtCp);
			
			
			
	*/
		var myDir = $(location).attr('href').substring( 0, $(location).attr('href').lastIndexOf( "/" ) + 1);
		
		// strip off # if one exists
		var localConfId = calendarForm.confID.value;
		var lastChar = localConfId.substr(calendarForm.confID.value.length - 1);
		var useHash = lastChar == '#';
		
		if (useHash) // strip it off
		{
			localConfId = localConfId.substring(0, localConfId.length - 1);
		}
		var rtCp = myDir + 'ccall_result.html?n=' +  
			calendarForm.confNumber.value + 
			'&i=' + localConfId +
			((useHash) ? ('&useHash=true') : ('&useHash=false'));
			console.log(rtCp);
			$('div.resultDiv').html(rtCp);
		
	}
	
	jQuery.fn.selectText = function(){
		var doc = document
			, element = this[0]
			, range, selection
		;
		if (doc.body.createTextRange) {
			range = document.body.createTextRange();
			range.moveToElementText(element);
			range.select();
		} else if (window.getSelection) {
			selection = window.getSelection();        
			range = document.createRange();
			range.selectNodeContents(element);
			selection.removeAllRanges();
			selection.addRange(range);
		}
	};
	
  </script>

	
	</body>
	
</html>